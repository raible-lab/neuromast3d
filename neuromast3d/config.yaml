# Channel indices for raw and seg images
# Note: membrane in raw and cell_seg in seg are required
# All others are optional and their names can be changed
channels:
        raw_channels:
                nucleus: 0
                sost_nuc: 1
                membrane: 2


        seg_channels:
                nuc_seg: 0
                cell_seg: 1


# Directory in which to save results
# Individual steps will create their own subdirs to save within this
project_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/cvapipe_sost_3_run_2_nuc_only'

# Directory containing raw images
raw_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/stack_aligned'

nucleus_segmentation:
        # enable/disable nucleus segmentation step
        state: False
        # path to directory with nucleus mask predictions
        nuc_pred_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/nuc_labels'
        nuc_pred_threshold: 0.6
        # parameters for distance transform watershed
        sigma: 6
        min_distance: 12
        # whether to use boundary predictions for nucleus splitting
        split_nuclei:
                state: True
                boundary_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/mem_model_3_results'
                mem_pred_threshold: 0.4
                # set mode to automatic or interactive
                mode: 'interactive'
        output_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/nuc_labels'

membrane_segmentation:
        # enable/disable membrane segmentation step
        state: False
        # path to nuclear labels
        nuc_labels_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/nuc_labels'
        # path to directory with membrane boundary predictions
        mem_pred_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/mem_model_3_results'
        # desired output directory name (will be created if nonexistent)
        output_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/cell_segmentations/'

create_fov_dataset:
        # enable/disable fov dataset creation
        state: False
        # directory with original .czi images to get pixel size
        original_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/original'
        # directory with segmented/label images
        seg_dir: '/media/maddy/external_ssd/claudin_gfp_sost_nlsEos_DRAQ5_1h_airy_live_3/cell_segmentations/ver3'
        # set autorotation and, if so, the strategy to use
        autorotate: False

prep_single_cells:
        # enable/disable single cell dataset creation from fov dataset
        state: False

alignment:
        # enable/disable alignment
        state: True
        # allow to continue from previous partially completed run
        continue_from_previous: False
        # channel in the seg img to use to calculate the radial rotation angle
        rot_ch_index: 1
        # whether to make the rotation unique
        make_unique: True
        # alignment method to use
        # available modes: unaligned, xy_only, xy_xz, xy_xz_yz, principal_axes
        # see README for details
        mode: 'principal_axes'
        # channels to use to calculate tilt correction angle(s)
        use_channels: '0'
        # use >45 degree angle correction
        45_corr: True
